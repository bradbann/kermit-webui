{% extends "theme/meta.html" %}
{% load widgets %}

{% block navbar %}{% endblock %}

{% block content %}
<script type="text/javascript">
	function callMcollective(url, destination) {
		$.getJSON(url, {}, function(json) {
			$("#" + destination).empty();
			$.each(json, function(i, resp) {
				content = '<h2>' + resp.sender + '</h2>';
				content += '<ul>';
				content += '<li> Status Code: ' + resp.statuscode + '</li>';
				content += '<li> Status Message: ' + resp.statusmsg + '</li>';
				content += '<li> Data: ' + JSON.stringify(resp.data) + '</li>';
				content += '</ul>';
				$(content).appendTo("#" + destination);
			});
		});
	}

	function callMcollectiveWithTemplateRsp(url, destination) {
		$("#" + destination).empty();
		$.get(url, function(data) {
			$("#" + destination).html(data);
		});
	}

	$(function() {
		$("#accordion").accordion({
			header : "h3"
		});
	});

</script>

<br/>
<br/>
<div id="columns">
	{% for column_id, content in widgets.items%}
		<ul id="column{{column_id}}" class="column">
			{% for current_widget in content%}
				{% widget current_widget.name %}
			{% endfor %}
		</ul>
		
	{% endfor %}
</div>
{% endblock %} 